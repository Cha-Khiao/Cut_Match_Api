{ "openapi": "3.0.3", "info": { "title": "Example Supabase API", "version": "1.0.0", "description": "OpenAPI specification for basic profiles API. Customize paths/schemas to match your database." }, "servers": [ { "url": "https://api.example.com", "description": "Production server" } ], "components": { "securitySchemes": { "bearerAuth": { "type": "http", "scheme": "bearer", "bearerFormat": "JWT" } }, "schemas": { "Profile": { "type": "object", "properties": { "id": { "type": "integer", "format": "int64", "description": "Primary key (bigint)" }, "user_id": { "type": "string", "format": "uuid", "description": "Reference to auth.users.id" }, "full_name": { "type": "string" }, "avatar_url": { "type": "string", "format": "uri" }, "created_at": { "type": "string", "format": "date-time" }, "updated_at": { "type": "string", "format": "date-time" } }, "required": [ "user_id" ] }, "Error": { "type": "object", "properties": { "message": { "type": "string" } } } } }, "security": [ { "bearerAuth": [] } ], "paths": { "/profiles": { "get": { "summary": "List profiles", "security": [ { "bearerAuth": [] } ], "responses": { "200": { "description": "A list of profiles", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Profile" } } } } }, "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } } } }, "post": { "summary": "Create profile", "security": [ { "bearerAuth": [] } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Profile" } } } }, "responses": { "201": { "description": "Profile created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Profile" } } } }, "400": { "description": "Validation error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } } } } }, "/profiles/{id}": { "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "integer", "format": "int64" } } ], "get": { "summary": "Get profile by id", "security": [ { "bearerAuth": [] } ], "responses": { "200": { "description": "Profile found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Profile" } } } }, "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } } } }, "put": { "summary": "Update profile", "security": [ { "bearerAuth": [] } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Profile" } } } }, "responses": { "200": { "description": "Profile updated", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Profile" } } } }, "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } } } }, "delete": { "summary": "Delete profile", "security": [ { "bearerAuth": [] } ], "responses": { "204": { "description": "Profile deleted" }, "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Error" } } } } } } } } }